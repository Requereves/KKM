import{a as C,r as l,j as e,H as f,b as S}from"./app-B4bMN2Eq.js";import{A as j}from"./AuthenticatedLayout-ClXdYjc_.js";import{t as T}from"./translations-DDsLtPwQ.js";/* empty css            */import"./Header-BTM4iWbk.js";function D({auth:h,items:i=[],initialSelectedId:n}){const{locale:g}=C().props,N=T[g||"id"],[o,v]=l.useState("all"),[a,c]=l.useState(null),[r,p]=l.useState(""),[d,k]=l.useState(""),[s,x]=l.useState(null);l.useEffect(()=>{if(n&&i.length>0){const t=i.find(m=>m.id.toString()===n.toString());t&&c(t)}},[n,i]);const b=i.filter(t=>{const m=o==="all"||t.status===o,y=t.name.toLowerCase().includes(d.toLowerCase())||t.documentTitle.toLowerCase().includes(d.toLowerCase())||t.nim.toLowerCase().includes(d.toLowerCase());return m&&y}),u=()=>{c(null),x(null),p("")},w=()=>{if(!a||!s)return;if(s==="reject"&&!r.trim()){alert("Please provide a reason for rejection.");return}const t={status:s==="approve"?"approved":"rejected",feedback:s==="approve"?r||"Approved":r};S.put(route("admin.verification.update",a.id),t,{onSuccess:()=>{u()},preserveScroll:!0})};return a?e.jsxs(j,{user:h.user,children:[e.jsx(f,{title:`Verify: ${a.name}`}),e.jsxs("div",{className:"h-[calc(100vh-8rem)] flex flex-col lg:flex-row gap-6 animate-in fade-in duration-300 p-6",children:[e.jsxs("div",{className:"lg:w-2/3 h-full bg-slate-800 rounded-xl overflow-hidden border border-slate-700 shadow-2xl flex flex-col",children:[e.jsxs("div",{className:"bg-slate-900 p-3 flex items-center justify-between border-b border-slate-700",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("button",{onClick:u,className:"text-slate-400 hover:text-white transition-colors flex items-center gap-1 text-sm font-medium",children:[e.jsx("span",{className:"material-icons-outlined",children:"arrow_back"}),"Back"]}),e.jsx("span",{className:"text-slate-300 text-sm font-medium truncate max-w-[200px]",children:a.filePath.split("/").pop()})]}),e.jsxs("div",{className:"flex items-center gap-2 text-slate-400",children:[e.jsx("span",{className:"material-icons-outlined text-sm cursor-pointer hover:text-white",children:"zoom_out"}),e.jsx("span",{className:"text-xs",children:"100%"}),e.jsx("span",{className:"material-icons-outlined text-sm cursor-pointer hover:text-white",children:"zoom_in"})]})]}),e.jsx("div",{className:"flex-1 bg-slate-500/50 flex items-center justify-center p-8 overflow-y-auto relative",children:e.jsxs("div",{className:"bg-white w-full max-w-[600px] h-full min-h-[800px] shadow-lg p-12 text-slate-800 flex flex-col gap-6 relative",children:[e.jsxs("div",{className:"flex justify-between items-center border-b-2 border-slate-900 pb-4",children:[e.jsx("h1",{className:"text-2xl font-serif font-bold",children:"CERTIFICATE OF COMPLETION"}),e.jsx("div",{className:"w-12 h-12 bg-indigo-900 rounded-full opacity-50"})]}),e.jsxs("div",{className:"text-center py-12 space-y-4",children:[e.jsx("p",{className:"font-serif italic text-slate-600",children:"This is to certify that"}),e.jsx("h2",{className:"text-3xl font-bold text-indigo-900",children:a.name}),e.jsx("p",{className:"font-serif italic text-slate-600",children:"Has successfully completed the course"}),e.jsx("h3",{className:"text-xl font-bold",children:a.documentTitle})]}),e.jsxs("div",{className:"mt-auto flex justify-between pt-12",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-32 border-b border-slate-400 mb-2"}),e.jsx("p",{className:"text-xs uppercase font-bold",children:"Instructor"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-32 border-b border-slate-400 mb-2"}),e.jsx("p",{className:"text-xs uppercase font-bold",children:"Date"})]})]}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-5 pointer-events-none",children:e.jsx("span",{className:"text-9xl font-bold -rotate-45",children:"PREVIEW"})})]})})]}),e.jsxs("div",{className:"lg:w-1/3 h-full flex flex-col gap-6 overflow-y-auto",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-xl border border-slate-200 dark:border-slate-800 shadow-sm",children:[e.jsxs("h2",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"material-icons-outlined text-indigo-500",children:"info"}),"Information"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] uppercase font-bold text-slate-400 tracking-wider",children:"Student Name"}),e.jsx("p",{className:"text-sm font-semibold dark:text-white",children:a.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] uppercase font-bold text-slate-400 tracking-wider",children:"NIM"}),e.jsx("p",{className:"font-mono text-sm dark:text-slate-300",children:a.nim})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] uppercase font-bold text-slate-400 tracking-wider",children:"Category"}),e.jsx("span",{className:"inline-block mt-1 px-2 py-0.5 rounded text-xs font-bold uppercase bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-400",children:a.category})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-[10px] uppercase font-bold text-slate-400 tracking-wider",children:"Description"}),e.jsxs("p",{className:"text-sm italic text-slate-500 mt-1",children:['"',a.description,'"']})]})]})]}),e.jsxs("div",{className:"flex-1 bg-white dark:bg-slate-900 p-6 rounded-xl border border-slate-200 dark:border-slate-800 shadow-sm flex flex-col",children:[e.jsxs("h2",{className:"text-lg font-bold text-slate-900 dark:text-white mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"material-icons-outlined text-indigo-500",children:"gavel"}),"Verification Decision"]}),e.jsxs("div",{className:"space-y-4 flex-1",children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Select an outcome for this verification request."}),e.jsxs("div",{onClick:()=>x("approve"),className:`cursor-pointer border-2 rounded-xl p-4 flex items-start gap-3 transition-all ${s==="approve"?"border-emerald-500 bg-emerald-50 dark:bg-emerald-900/10":"border-slate-200 dark:border-slate-700 hover:border-emerald-200 dark:hover:border-emerald-800"}`,children:[e.jsx("div",{className:`w-5 h-5 rounded-full border flex items-center justify-center mt-0.5 ${s==="approve"?"border-emerald-500 bg-emerald-500":"border-slate-300"}`,children:s==="approve"&&e.jsx("span",{className:"material-icons-outlined text-white text-xs",children:"check"})}),e.jsxs("div",{children:[e.jsx("h3",{className:`font-bold text-sm ${s==="approve"?"text-emerald-700 dark:text-emerald-400":"text-slate-700 dark:text-slate-300"}`,children:"Approve Request"}),e.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:"The document is valid and meets all requirements."})]})]}),e.jsxs("div",{onClick:()=>x("reject"),className:`cursor-pointer border-2 rounded-xl p-4 flex items-start gap-3 transition-all ${s==="reject"?"border-rose-500 bg-rose-50 dark:bg-rose-900/10":"border-slate-200 dark:border-slate-700 hover:border-rose-200 dark:hover:border-rose-800"}`,children:[e.jsx("div",{className:`w-5 h-5 rounded-full border flex items-center justify-center mt-0.5 ${s==="reject"?"border-rose-500 bg-rose-500":"border-slate-300"}`,children:s==="reject"&&e.jsx("span",{className:"material-icons-outlined text-white text-xs",children:"close"})}),e.jsxs("div",{children:[e.jsx("h3",{className:`font-bold text-sm ${s==="reject"?"text-rose-700 dark:text-rose-400":"text-slate-700 dark:text-slate-300"}`,children:"Reject Request"}),e.jsx("p",{className:"text-xs text-slate-500 mt-0.5",children:"The document is invalid, unreadable, or incorrect."})]})]}),s==="reject"&&e.jsxs("div",{className:"animate-in fade-in slide-in-from-top-2",children:[e.jsxs("label",{className:"text-xs font-bold text-slate-700 dark:text-slate-300 mb-2 block",children:["Reason for Rejection ",e.jsx("span",{className:"text-rose-500",children:"*"})]}),e.jsx("textarea",{value:r,onChange:t=>p(t.target.value),placeholder:"Please explain why this document is being rejected...",className:"w-full p-3 bg-slate-50 dark:bg-slate-950 border border-slate-200 dark:border-slate-700 rounded-lg text-sm focus:ring-2 focus:ring-rose-500 outline-none dark:text-white",rows:3})]})]}),e.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-200 dark:border-slate-800",children:[s&&e.jsxs("div",{className:"mb-4 flex items-center gap-2 text-amber-600 dark:text-amber-500 text-xs font-medium bg-amber-50 dark:bg-amber-900/20 p-2 rounded-lg",children:[e.jsx("span",{className:"material-icons-outlined text-sm",children:"warning"}),"Warning: This action cannot be undone."]}),e.jsx("button",{disabled:!s||s==="reject"&&!r,onClick:w,className:`w-full py-3 rounded-xl font-bold text-white shadow-lg transition-all flex items-center justify-center gap-2 ${s?s==="approve"?"bg-emerald-600 hover:bg-emerald-700 shadow-emerald-500/20":"bg-rose-600 hover:bg-rose-700 shadow-rose-500/20":"bg-slate-300 dark:bg-slate-800 cursor-not-allowed text-slate-500"}`,children:s==="approve"?"Confirm Approval":"Confirm Rejection"})]})]})]})]})]}):e.jsxs(j,{user:h.user,children:[e.jsx(f,{title:"Verification Center"}),e.jsxs("div",{className:"p-6 space-y-6 animate-in fade-in duration-500",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:N.verification||"Verification Center"}),e.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Kelola dan verifikasi berkas kompetensi mahasiswa."})]}),e.jsx("div",{className:"flex bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-lg p-1",children:["all","pending","approved","rejected"].map(t=>e.jsx("button",{onClick:()=>v(t),className:`px-4 py-1.5 text-xs font-medium rounded-md capitalize transition-all ${o===t?"bg-indigo-600 text-white shadow-sm":"text-slate-500 dark:text-slate-400 hover:text-indigo-600 dark:hover:text-indigo-400"}`,children:t==="all"?"Semua":t},t))})]}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"material-icons-outlined absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",children:"search"}),e.jsx("input",{type:"text",placeholder:"Cari Mahasiswa, NIM, atau Judul Berkas...",className:"w-full pl-10 pr-4 py-2.5 bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none transition-all text-sm dark:text-white",value:d,onChange:t=>k(t.target.value)})]}),e.jsx("div",{className:"bg-white dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-800 shadow-sm overflow-hidden",children:e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-[10px] font-semibold text-slate-500 dark:text-slate-400 border-b border-slate-200 dark:border-slate-800 bg-slate-50 dark:bg-slate-900/50 uppercase tracking-wider",children:[e.jsx("th",{className:"px-6 py-4",children:"Mahasiswa"}),e.jsx("th",{className:"px-6 py-4",children:"Berkas Portfolio"}),e.jsx("th",{className:"px-6 py-4",children:"Kategori"}),e.jsx("th",{className:"px-6 py-4",children:"Status"}),e.jsx("th",{className:"px-6 py-4 text-right",children:"Aksi"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100 dark:divide-slate-800 text-sm",children:b.map(t=>e.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800/30 transition-colors",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-slate-900 dark:text-white",children:t.name}),e.jsx("span",{className:"text-[10px] text-slate-500 uppercase tracking-tighter",children:t.nim})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-slate-700 dark:text-slate-300 font-medium",children:t.documentTitle}),e.jsx("span",{className:"text-[10px] text-slate-400 italic truncate max-w-[200px]",children:t.filePath})]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"px-2 py-0.5 rounded-full bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-400 text-[10px] font-bold uppercase",children:t.category})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-[10px] font-bold uppercase ${t.status==="pending"?"bg-amber-100 text-amber-700 dark:bg-amber-900/20 dark:text-amber-500":t.status==="approved"?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/20 dark:text-emerald-500":"bg-rose-100 text-rose-700 dark:bg-rose-900/20 dark:text-rose-500"}`,children:t.status})}),e.jsx("td",{className:"px-6 py-4 text-right",children:e.jsxs("button",{onClick:()=>c(t),className:"text-indigo-600 dark:text-indigo-400 hover:underline font-semibold text-xs flex items-center justify-end gap-1 ml-auto",children:[e.jsx("span",{className:"material-icons-outlined text-sm",children:"visibility"})," Detail"]})})]},t.id))})]}),b.length===0&&e.jsxs("div",{className:"py-20 text-center flex flex-col items-center justify-center space-y-3",children:[e.jsx("span",{className:"material-icons-outlined text-6xl text-slate-200 dark:text-slate-800",children:"folder_off"}),e.jsx("p",{className:"text-slate-500 italic",children:"Data berkas tidak ditemukan."})]})]})})]})]})}export{D as default};
