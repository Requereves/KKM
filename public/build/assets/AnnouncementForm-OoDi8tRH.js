import{u as k,r as g,j as e,L as p}from"./app-B4bMN2Eq.js";import{A as w}from"./AuthenticatedLayout-ClXdYjc_.js";import N from"./AnnouncementPreview-75FNCjZz.js";/* empty css            */import"./Header-BTM4iWbk.js";import"./translations-DDsLtPwQ.js";const a={edit_announcement:"Edit Announcement",create_announcement:"Create Announcement",doc_col:"Document Title (Title)",cat_col:"Category",target_audience:"Target Audience",publish_date:"Publish Date",student_status:"Status",content:"Content",cancel:"Cancel",save_announcement:"Save Announcement",preview:"Preview"};function E({auth:c,mode:i="create",initialData:s={}}){const{data:l,setData:r,post:u,processing:x,errors:n}=k({_method:i==="edit"?"put":void 0,title:s.title||"",content:s.content||"",category:s.category||"News",status:s.status||"draft",targetAudience:s.targetAudience||"All",publishDate:s.publishDate||new Date().toISOString().split("T")[0],image:null}),[d,h]=g.useState(s.image||null),[b,m]=g.useState(!1),f=t=>{const o=t.target.files[0];o&&(r("image",o),h(URL.createObjectURL(o)))},v=t=>{t.preventDefault(),i==="create"?u(route("admin.cms.store"),{forceFormData:!0}):u(route("admin.cms.update",s.id),{forceFormData:!0})},j={...l,image:d,author:c.user.name};return e.jsxs(w,{user:c.user,children:[e.jsxs("div",{className:"p-6 max-w-4xl mx-auto animate-in fade-in slide-in-from-bottom-4 duration-300 font-sans",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx(p,{href:route("admin.cms.index"),className:"p-2 rounded-full hover:bg-slate-100 dark:hover:bg-slate-800 text-slate-500 dark:text-slate-400 transition-colors",children:e.jsx("span",{className:"material-icons-outlined",children:"arrow_back"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:i==="edit"?a.edit_announcement:a.create_announcement}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:i==="edit"?`ID: ${s.id}`:"Fill in the details below"})]}),e.jsxs("button",{type:"button",onClick:()=>m(!0),className:"px-4 py-2 bg-slate-100 dark:bg-slate-800 hover:bg-slate-200 dark:hover:bg-slate-700 text-slate-700 dark:text-slate-300 font-bold rounded-xl transition-all flex items-center gap-2",children:[e.jsx("span",{className:"material-icons-outlined text-sm",children:"visibility"}),e.jsx("span",{className:"hidden sm:inline",children:a.preview})]})]}),e.jsxs("form",{onSubmit:v,className:"bg-white dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-800 shadow-sm overflow-hidden p-6 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:a.doc_col}),e.jsx("input",{required:!0,type:"text",value:l.title,onChange:t=>r("title",t.target.value),className:"w-full px-4 py-2.5 bg-slate-50 dark:bg-slate-950 border border-slate-200 dark:border-slate-800 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none transition-all dark:text-white",placeholder:"e.g. End of Semester Exam Schedule"}),n.title&&e.jsx("p",{className:"text-red-500 text-xs",children:n.title})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:a.cat_col}),e.jsxs("select",{value:l.category,onChange:t=>r("category",t.target.value),className:"w-full px-4 py-2.5 bg-slate-50 dark:bg-slate-950 border border-slate-200 dark:border-slate-800 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none transition-all dark:text-white",children:[e.jsx("option",{value:"News",children:"News"}),e.jsx("option",{value:"Event",children:"Event"}),e.jsx("option",{value:"Academic",children:"Academic"}),e.jsx("option",{value:"Maintenance",children:"Maintenance"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:a.target_audience}),e.jsxs("select",{value:l.targetAudience,onChange:t=>r("targetAudience",t.target.value),className:"w-full px-4 py-2.5 bg-slate-50 dark:bg-slate-950 border border-slate-200 dark:border-slate-800 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none transition-all dark:text-white",children:[e.jsx("option",{value:"All",children:"All"}),e.jsx("option",{value:"Students",children:"Students Only"}),e.jsx("option",{value:"Lecturers",children:"Lecturers Only"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:a.publish_date}),e.jsx("input",{required:!0,type:"date",value:l.publishDate,onChange:t=>r("publishDate",t.target.value),className:"w-full px-4 py-2.5 bg-slate-50 dark:bg-slate-950 border border-slate-200 dark:border-slate-800 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none transition-all dark:text-white"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:a.student_status}),e.jsxs("select",{value:l.status,onChange:t=>r("status",t.target.value),className:"w-full px-4 py-2.5 bg-slate-50 dark:bg-slate-950 border border-slate-200 dark:border-slate-800 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none transition-all dark:text-white",children:[e.jsx("option",{value:"draft",children:"Draft"}),e.jsx("option",{value:"published",children:"Published"}),e.jsx("option",{value:"archived",children:"Archived"})]})]}),e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:"Cover Image"}),e.jsxs("div",{className:"flex items-center gap-4",children:[d&&e.jsx("img",{src:d,alt:"Preview",className:"h-10 w-16 object-cover rounded-md border border-slate-200 dark:border-slate-700"}),e.jsx("input",{type:"file",accept:"image/*",onChange:f,className:"block w-full text-sm text-slate-500 file:mr-4 file:py-2.5 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-slate-100 file:text-slate-700 hover:file:bg-slate-200 dark:file:bg-slate-800 dark:file:text-slate-300 transition-all cursor-pointer"})]}),n.image&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:n.image})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:a.content}),e.jsx("textarea",{rows:12,value:l.content,onChange:t=>r("content",t.target.value),className:"w-full px-4 py-2.5 bg-slate-50 dark:bg-slate-950 border border-slate-200 dark:border-slate-800 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none transition-all dark:text-white font-sans text-base leading-relaxed",placeholder:"Write your announcement content here..."}),e.jsx("p",{className:"text-[10px] text-slate-400 text-right",children:"Supports basic line breaks."}),n.content&&e.jsx("p",{className:"text-red-500 text-xs",children:n.content})]}),e.jsxs("div",{className:"flex justify-end pt-4 border-t border-slate-200 dark:border-slate-800 gap-3",children:[e.jsx(p,{href:route("admin.cms.index"),className:"px-6 py-2.5 bg-slate-100 dark:bg-slate-800 hover:bg-slate-200 dark:hover:bg-slate-700 text-slate-700 dark:text-slate-300 font-bold rounded-xl transition-all",children:a.cancel}),e.jsx("button",{type:"submit",disabled:x,className:"px-6 py-2.5 bg-indigo-600 hover:bg-indigo-700 text-white font-bold rounded-xl shadow-lg shadow-indigo-600/20 transition-all disabled:opacity-50",children:x?"Saving...":a.save_announcement})]})]})]}),e.jsx(N,{announcement:j,isOpen:b,onClose:()=>m(!1)})]})}export{E as default};
