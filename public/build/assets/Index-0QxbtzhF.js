import{a as _,r as u,u as P,j as e,H as C,b as d}from"./app-B4bMN2Eq.js";import{A as S}from"./AuthenticatedLayout-ClXdYjc_.js";import{t as $}from"./translations-DDsLtPwQ.js";/* empty css            */import"./Header-BTM4iWbk.js";function G({auth:c}){const{props:g}=_(),r=c.user,h=g.locale||"en",t=$[h],m=u.useRef(null),[f,b]=u.useState(null),p=()=>{m.current.click()},j=s=>{const i=s.target.files[0];if(i){b(URL.createObjectURL(i));const x=new FormData;x.append("photo",i),d.post(route("admin.profile.update-photo"),x,{forceFormData:!0,preserveScroll:!0,onSuccess:()=>{d.visit(window.location.href,{preserveScroll:!0,preserveState:!1})},onError:y=>{alert(y.photo||"Gagal mengupload foto. Pastikan format JPG/PNG dan ukuran di bawah 2MB.")}})}},{data:l,setData:o,patch:w,processing:n,errors:a,reset:N,recentlySuccessful:v}=P({name:r.name||"",username:r.username||"",email:r.email||"",current_password:"",password:"",password_confirmation:""}),k=s=>{s.preventDefault(),w(route("admin.profile.update"),{preserveScroll:!0,onSuccess:()=>{N("current_password","password","password_confirmation"),d.visit(window.location.href,{preserveScroll:!0,preserveState:!1})}})};return e.jsxs(S,{user:c.user,children:[e.jsx(C,{title:t.profile||"Profile"}),e.jsxs("div",{className:"p-6 animate-in fade-in duration-500",children:[e.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-8",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:t.profile||"Profile"}),e.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm",children:"Update your personal information and security settings."})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-1 space-y-6",children:e.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-800 shadow-sm p-6 flex flex-col items-center text-center",children:[e.jsxs("div",{className:"relative group cursor-pointer",onClick:p,children:[e.jsx("img",{src:f||(r.avatar?r.avatar:`https://ui-avatars.com/api/?name=${r.name}&background=random&color=fff`),alt:"Profile",className:"w-32 h-32 rounded-full object-cover ring-4 ring-slate-100 dark:ring-slate-800 group-hover:ring-indigo-500 transition-all",onError:s=>{s.target.src=`https://ui-avatars.com/api/?name=${r.name}&background=random&color=fff`}}),e.jsx("div",{className:"absolute inset-0 rounded-full bg-slate-950/40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity backdrop-blur-sm",children:e.jsx("span",{className:"material-icons-outlined text-white text-2xl",children:"camera_alt"})})]}),e.jsx("h2",{className:"mt-4 text-xl font-bold text-slate-900 dark:text-white",children:r.name}),e.jsx("p",{className:"text-slate-500 dark:text-slate-400 text-sm capitalize",children:r.role||"Admin"}),e.jsx("input",{type:"file",ref:m,className:"hidden",accept:"image/png, image/jpeg, image/jpg",onChange:j}),e.jsxs("button",{type:"button",onClick:p,className:"mt-6 w-full py-2 bg-slate-100 dark:bg-slate-800 hover:bg-slate-200 dark:hover:bg-slate-700 text-slate-700 dark:text-slate-300 font-medium rounded-lg transition-colors flex items-center justify-center gap-2",children:[e.jsx("span",{className:"material-icons-outlined text-sm",children:"upload"}),t.upload_photo||"Change Photo"]})]})}),e.jsx("div",{className:"lg:col-span-2 space-y-6",children:e.jsxs("form",{onSubmit:k,className:"bg-white dark:bg-slate-900 rounded-xl border border-slate-200 dark:border-slate-800 shadow-sm overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-slate-100 dark:border-slate-800",children:e.jsxs("h3",{className:"text-lg font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[e.jsx("span",{className:"material-icons-outlined text-indigo-500",children:"badge"}),t.general_info||"General Information"]})}),e.jsx("div",{className:"p-6 space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:t.full_name||"Full Name"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"material-icons-outlined absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",children:"person"}),e.jsx("input",{type:"text",name:"name",value:l.name,onChange:s=>o("name",s.target.value),className:`w-full pl-10 pr-4 py-2.5 bg-slate-50 dark:bg-slate-950 border rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none transition-all dark:text-white ${a.name?"border-rose-500 focus:border-rose-500":"border-slate-200 dark:border-slate-800"}`})]}),a.name&&e.jsxs("p",{className:"text-xs text-rose-500 flex items-center gap-1",children:[e.jsx("span",{className:"material-icons-outlined text-[10px]",children:"error"})," ",a.name]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:t.username||"Username"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"material-icons-outlined absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",children:"alternate_email"}),e.jsx("input",{type:"text",name:"username",value:l.username,onChange:s=>o("username",s.target.value),className:`w-full pl-10 pr-4 py-2.5 bg-slate-50 dark:bg-slate-950 border rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none transition-all dark:text-white ${a.username?"border-rose-500 focus:border-rose-500":"border-slate-200 dark:border-slate-800"}`})]}),a.username&&e.jsxs("p",{className:"text-xs text-rose-500 flex items-center gap-1",children:[e.jsx("span",{className:"material-icons-outlined text-[10px]",children:"error"})," ",a.username]})]}),e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:t.email_address||"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"material-icons-outlined absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",children:"mail"}),e.jsx("input",{type:"email",name:"email",value:l.email,onChange:s=>o("email",s.target.value),className:`w-full pl-10 pr-4 py-2.5 bg-slate-50 dark:bg-slate-950 border rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none transition-all dark:text-white ${a.email?"border-rose-500 focus:border-rose-500":"border-slate-200 dark:border-slate-800"}`})]}),a.email&&e.jsxs("p",{className:"text-xs text-rose-500 flex items-center gap-1",children:[e.jsx("span",{className:"material-icons-outlined text-[10px]",children:"error"})," ",a.email]})]})]})}),e.jsxs("div",{className:"p-6 border-t border-slate-100 dark:border-slate-800",children:[e.jsxs("h3",{className:"text-lg font-bold text-slate-900 dark:text-white flex items-center gap-2 mb-6",children:[e.jsx("span",{className:"material-icons-outlined text-indigo-500",children:"lock"}),t.security||"Security"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:t.current_password||"Current Password"}),e.jsx("input",{type:"password",value:l.current_password,onChange:s=>o("current_password",s.target.value),className:`w-full px-4 py-2.5 bg-slate-50 dark:bg-slate-950 border rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none transition-all dark:text-white ${a.current_password?"border-rose-500 focus:border-rose-500":"border-slate-200 dark:border-slate-800"}`,placeholder:"••••••••"}),a.current_password&&e.jsxs("p",{className:"text-xs text-rose-500 flex items-center gap-1",children:[e.jsx("span",{className:"material-icons-outlined text-[10px]",children:"error"})," ",a.current_password]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:t.new_password||"New Password"}),e.jsx("input",{type:"password",value:l.password,onChange:s=>o("password",s.target.value),className:`w-full px-4 py-2.5 bg-slate-50 dark:bg-slate-950 border rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none transition-all dark:text-white ${a.password?"border-rose-500 focus:border-rose-500":"border-slate-200 dark:border-slate-800"}`,placeholder:"••••••••"}),a.password&&e.jsxs("p",{className:"text-xs text-rose-500 flex items-center gap-1",children:[e.jsx("span",{className:"material-icons-outlined text-[10px]",children:"error"})," ",a.password]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-bold text-slate-500 dark:text-slate-400 uppercase tracking-wider",children:t.confirm_password||"Confirm Password"}),e.jsx("input",{type:"password",value:l.password_confirmation,onChange:s=>o("password_confirmation",s.target.value),className:"w-full px-4 py-2.5 bg-slate-50 dark:bg-slate-950 border border-slate-200 dark:border-slate-800 rounded-lg focus:ring-2 focus:ring-indigo-500 outline-none transition-all dark:text-white",placeholder:"••••••••"})]})]})]})]}),e.jsxs("div",{className:"p-6 border-t border-slate-100 dark:border-slate-800 bg-slate-50 dark:bg-slate-950/30 flex items-center justify-end gap-3",children:[v&&e.jsxs("div",{className:"flex items-center gap-2 text-emerald-600 dark:text-emerald-400 text-sm font-medium animate-in fade-in slide-in-from-right-4",children:[e.jsx("span",{className:"material-icons-outlined",children:"check_circle"}),t.profile_updated||"Profile updated successfully!"]}),e.jsxs("button",{type:"submit",disabled:n,className:"px-6 py-2.5 bg-indigo-600 hover:bg-indigo-700 text-white font-bold rounded-xl shadow-lg shadow-indigo-600/20 transition-all flex items-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed",children:[n&&e.jsx("span",{className:"material-icons-outlined animate-spin text-sm",children:"sync"}),n?t.saving||"Saving...":t.save_changes||"Save Changes"]})]})]})})]})]})]})}export{G as default};
